<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IP Camera Testing System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-primary: #0a0e1a;
      --bg-secondary: #141b2d;
      --bg-tertiary: #1e2740;
      --accent-primary: #00d4ff;
      --accent-secondary: #3b82f6;
      --accent-success: #10b981;
      --accent-warning: #f59e0b;
      --accent-error: #ef4444;
      --text-primary: #e2e8f0;
      --text-secondary: #94a3b8;
      --text-muted: #64748b;
      --border-color: #334155;
      --pending: #6b7280;
      --shadow: 0 14px 32px rgba(0, 0, 0, 0.35);
      --radius-lg: 16px;
      --radius-md: 12px;
      --radius-sm: 9px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--text-primary);
      background:
        radial-gradient(circle at 8% 8%, rgba(0, 212, 255, 0.16), transparent 26%),
        radial-gradient(circle at 92% 18%, rgba(16, 185, 129, 0.11), transparent 30%),
        linear-gradient(160deg, #070b17, #0f172a 52%, #121f38);
      padding: 22px;
    }

    .app {
      max-width: 1500px;
      margin: 0 auto;
      display: grid;
      gap: 18px;
      animation: fadeIn 260ms ease;
    }

    .surface {
      background: linear-gradient(170deg, rgba(20, 27, 45, 0.95), rgba(16, 22, 39, 0.97));
      border: 1px solid rgba(71, 85, 105, 0.55);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
    }

    .header {
      padding: 22px 24px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 14px;
    }

    .title {
      margin: 0;
      font-family: 'JetBrains Mono', monospace;
      letter-spacing: 0.02em;
      font-size: clamp(1.2rem, 2.2vw, 1.8rem);
    }

    .subtitle {
      margin: 8px 0 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .progress-badge {
      border: 1px solid rgba(0, 212, 255, 0.4);
      border-radius: 999px;
      padding: 8px 12px;
      font-family: 'JetBrains Mono', monospace;
      color: var(--accent-primary);
      white-space: nowrap;
      font-size: 0.9rem;
      background: rgba(0, 212, 255, 0.1);
    }

    .grid-2 {
      padding: 18px;
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      gap: 18px;
    }

    .panel {
      background: rgba(15, 23, 42, 0.62);
      border: 1px solid rgba(71, 85, 105, 0.5);
      border-radius: var(--radius-md);
      padding: 14px;
    }

    .panel h2 {
      margin: 0 0 10px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.95rem;
      color: var(--accent-primary);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .inputs {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .field { display: grid; gap: 6px; }

    .field label {
      font-size: 0.8rem;
      color: var(--text-secondary);
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    input[type='text'],
    input[type='date'],
    textarea,
    .search input {
      width: 100%;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      background: rgba(15, 23, 42, 0.78);
      color: var(--text-primary);
      padding: 10px 12px;
      font: inherit;
      transition: border-color 160ms ease, box-shadow 160ms ease;
    }

    input:focus,
    textarea:focus,
    .search input:focus {
      outline: none;
      border-color: rgba(0, 212, 255, 0.75);
      box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
      margin-bottom: 10px;
    }

    .stat {
      border-radius: var(--radius-sm);
      border: 1px solid rgba(71, 85, 105, 0.6);
      background: rgba(2, 6, 23, 0.45);
      padding: 10px;
      min-height: 72px;
      display: grid;
      align-content: center;
      gap: 6px;
    }

    .stat .name {
      font-size: 0.78rem;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .stat .value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.15rem;
      font-weight: 700;
    }

    .value.passed { color: var(--accent-success); }
    .value.failed { color: var(--accent-error); }
    .value.maybe { color: var(--accent-warning); }
    .value.pending { color: #a7aebc; }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 8px;
    }

    .btn {
      border: 1px solid rgba(71, 85, 105, 0.7);
      background: rgba(15, 23, 42, 0.85);
      color: var(--text-primary);
      border-radius: var(--radius-sm);
      padding: 10px 12px;
      cursor: pointer;
      font: inherit;
      min-height: 38px;
      transition: transform 120ms ease, border-color 160ms ease, background 160ms ease;
    }

    .btn:hover {
      transform: translateY(-1px);
      border-color: rgba(0, 212, 255, 0.6);
      background: rgba(30, 41, 59, 0.95);
    }

    .btn.primary {
      background: linear-gradient(160deg, rgba(0, 212, 255, 0.2), rgba(59, 130, 246, 0.16));
      border-color: rgba(0, 212, 255, 0.62);
    }

    .search {
      padding: 0 18px 18px;
    }

    .search input { font-size: 0.95rem; }

    .tree {
      display: grid;
      gap: 12px;
      padding: 0 18px 18px;
    }

    .section {
      border: 1px solid rgba(71, 85, 105, 0.6);
      border-radius: var(--radius-md);
      background: rgba(15, 23, 42, 0.66);
      overflow: hidden;
    }

    .section-header {
      width: 100%;
      border: 0;
      background: linear-gradient(160deg, rgba(30, 41, 59, 0.6), rgba(15, 23, 42, 0.88));
      color: var(--text-primary);
      padding: 12px 14px;
      text-align: left;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      transition: background 160ms ease;
      min-height: 42px;
    }

    .section-header:hover { background: rgba(30, 41, 59, 0.95); }

    .section-left {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .section-title {
      font-weight: 700;
      font-size: 0.96rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .section-progress {
      color: var(--text-secondary);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      white-space: nowrap;
    }

    .tests {
      display: grid;
      gap: 10px;
      padding: 12px;
    }

    .test-item {
      border: 1px solid rgba(71, 85, 105, 0.52);
      border-radius: var(--radius-sm);
      background: rgba(2, 6, 23, 0.5);
      padding: 12px;
      display: grid;
      gap: 10px;
    }

    .test-top {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      align-items: flex-start;
    }

    .test-name {
      margin: 0;
      font-size: 0.98rem;
      line-height: 1.35;
    }

    .test-details {
      margin: 4px 0 0;
      font-size: 0.86rem;
      color: var(--text-secondary);
      line-height: 1.35;
    }

    .status-buttons {
      display: flex;
      gap: 6px;
      flex-shrink: 0;
    }

    .status-btn {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      border: 1px solid rgba(71, 85, 105, 0.72);
      background: rgba(15, 23, 42, 0.95);
      color: var(--text-secondary);
      cursor: pointer;
      font-size: 1rem;
      transition: transform 120ms ease, border-color 160ms ease;
    }

    .status-btn:hover { transform: translateY(-1px); }

    .status-btn.active.passed {
      border-color: rgba(16, 185, 129, 0.9);
      color: var(--accent-success);
      background: rgba(16, 185, 129, 0.12);
    }

    .status-btn.active.failed {
      border-color: rgba(239, 68, 68, 0.95);
      color: var(--accent-error);
      background: rgba(239, 68, 68, 0.12);
    }

    .status-btn.active.maybe {
      border-color: rgba(245, 158, 11, 0.95);
      color: var(--accent-warning);
      background: rgba(245, 158, 11, 0.15);
    }

    .test-bottom {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-items: start;
    }

    .notes textarea {
      min-height: 80px;
      resize: vertical;
      line-height: 1.35;
    }

    .shots {
      display: grid;
      gap: 8px;
    }

    .uploader {
      border: 1px dashed rgba(71, 85, 105, 0.9);
      border-radius: var(--radius-sm);
      padding: 10px;
      background: rgba(15, 23, 42, 0.6);
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      min-height: 60px;
    }

    .uploader.drag {
      border-color: rgba(0, 212, 255, 0.85);
      background: rgba(0, 212, 255, 0.12);
    }

    .upload-text {
      color: var(--text-secondary);
      font-size: 0.83rem;
    }

    .screens {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
    }

    .shot {
      position: relative;
      border-radius: 8px;
      overflow: hidden;
      background: rgba(15, 23, 42, 0.8);
      aspect-ratio: 4 / 3;
      border: 1px solid rgba(71, 85, 105, 0.72);
    }

    .shot img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      cursor: zoom-in;
      display: block;
    }

    .shot-delete {
      position: absolute;
      right: 6px;
      top: 6px;
      width: 24px;
      height: 24px;
      border: 0;
      border-radius: 6px;
      background: rgba(2, 6, 23, 0.86);
      color: #f8fafc;
      cursor: pointer;
      font-size: 0.9rem;
    }

    .shot-delete:hover { background: rgba(239, 68, 68, 0.9); }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.76);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .modal.show { display: flex; }

    .modal-box {
      width: min(980px, 100%);
      max-height: 90vh;
      overflow: auto;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(71, 85, 105, 0.8);
      background: linear-gradient(170deg, rgba(20, 27, 45, 0.98), rgba(12, 18, 33, 0.98));
      box-shadow: var(--shadow);
      padding: 16px;
      position: relative;
    }

    .modal-close {
      position: absolute;
      right: 10px;
      top: 10px;
      width: 34px;
      height: 34px;
      border: 0;
      border-radius: 8px;
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-primary);
      cursor: pointer;
      font-size: 1.2rem;
    }

    .modal-close:hover { background: rgba(239, 68, 68, 0.9); }

    .report {
      width: 100%;
      min-height: 400px;
      resize: vertical;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.83rem;
      line-height: 1.35;
      white-space: pre;
    }

    .report-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .image-modal-content img {
      width: 100%;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(71, 85, 105, 0.8);
      display: block;
    }

    .toast {
      position: fixed;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%) translateY(20px);
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(71, 85, 105, 0.8);
      color: var(--text-primary);
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.86rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity 200ms ease, transform 200ms ease;
      z-index: 1100;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .hidden { display: none !important; }

    @media (max-width: 1200px) {
      .grid-2,
      .test-bottom {
        grid-template-columns: 1fr;
      }
    }

    @media (min-width: 1600px) {
      .screens {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    @media (max-width: 768px) {
      body { padding: 12px; }
      .header { padding: 16px; }
      .grid-2,
      .search,
      .tree { padding-left: 12px; padding-right: 12px; }
      .inputs { grid-template-columns: 1fr; }
      .stats-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .screens { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .test-top { flex-direction: column; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <main class="app">
    <section class="surface header">
      <div>
        <h1 class="title">IP Camera Testing System</h1>
        <p class="subtitle">ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ° IP-ĞºĞ°Ğ¼ĞµÑ€ Ñ Ğ°Ğ²Ñ‚Ğ¾ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾.</p>
      </div>
      <div class="progress-badge" id="overallProgress">ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ: 0%</div>
    </section>

    <section class="surface grid-2">
      <div class="panel">
        <h2>Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸</h2>
        <div class="inputs">
          <div class="field">
            <label for="projectName">ĞŸÑ€Ğ¾ĞµĞºÑ‚</label>
            <input id="projectName" type="text" placeholder="ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ IPC-HFW5442E-ZE" />
          </div>
          <div class="field">
            <label for="testerName">Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸Ğº</label>
            <input id="testerName" type="text" placeholder="Ğ˜Ğ¼Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸ĞºĞ°" />
          </div>
          <div class="field">
            <label for="cameraModel">ĞœĞ¾Ğ´ĞµĞ»ÑŒ ĞºĞ°Ğ¼ĞµÑ€Ñ‹</label>
            <input id="cameraModel" type="text" placeholder="IPC-HFW5442E-ZE" />
          </div>
          <div class="field">
            <label for="firmwareVersion">Ğ’ĞµÑ€ÑĞ¸Ñ Ğ¿Ñ€Ğ¾ÑˆĞ¸Ğ²ĞºĞ¸</label>
            <input id="firmwareVersion" type="text" placeholder="v2.840.0000000.1.R" />
          </div>
          <div class="field">
            <label for="testDate">Ğ”Ğ°Ñ‚Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ</label>
            <input id="testDate" type="date" />
          </div>
        </div>
      </div>

      <div class="panel">
        <h2>Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°</h2>
        <div class="stats-grid">
          <article class="stat"><div class="name">âœ“ ĞŸÑ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾</div><div class="value passed" id="statPassed">0</div></article>
          <article class="stat"><div class="name">âœ— ĞĞµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾</div><div class="value failed" id="statFailed">0</div></article>
          <article class="stat"><div class="name">? Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾</div><div class="value maybe" id="statMaybe">0</div></article>
          <article class="stat"><div class="name">â—‹ ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚</div><div class="value pending" id="statPending">0</div></article>
        </div>
        <div class="actions">
          <button class="btn primary" id="exportBtn" title="Ğ¡Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚">ğŸ“Š Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²</button>
          <button class="btn" id="saveBtn" title="Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² localStorage">ğŸ’¾ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ</button>
          <button class="btn" id="loadBtn" title="Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ÑÑ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½Ğ½ÑƒÑ ÑĞµÑÑĞ¸Ñ">ğŸ“‚ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ</button>
          <button class="btn" id="resetBtn" title="ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹, Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ¸ Ğ¸ ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ñ‹">ğŸ”„ Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ²ÑĞµ</button>
        </div>
      </div>
    </section>

    <section class="surface search">
      <input id="searchInput" type="text" placeholder="ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ, Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸ÑĞ¼..." />
    </section>

    <section class="surface tree" id="testTree"></section>
  </main>

  <div class="modal" id="reportModal" aria-hidden="true">
    <div class="modal-box">
      <button class="modal-close" data-close="reportModal" title="Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ">Ã—</button>
      <h2 style="margin-top:0;font-family:'JetBrains Mono',monospace;">Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²</h2>
      <textarea id="reportText" class="report" readonly></textarea>
      <div class="report-actions">
        <button class="btn primary" id="copyReportBtn" title="ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚ Ğ² Ğ±ÑƒÑ„ĞµÑ€">ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ</button>
        <button class="btn" id="downloadReportBtn" title="Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚ ĞºĞ°Ğº TXT">Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ TXT</button>
      </div>
    </div>
  </div>

  <div class="modal" id="imageModal" aria-hidden="true">
    <div class="modal-box image-modal-content">
      <button class="modal-close" data-close="imageModal" title="Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ">Ã—</button>
      <img id="fullImage" src="" alt="Screenshot preview" />
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    const STORAGE_KEY = 'ipCameraTestData';
    const STATUS = {
      pending: { icon: 'â—‹', label: 'ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚' },
      passed: { icon: 'âœ“', label: 'ĞŸÑ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾' },
      failed: { icon: 'âœ—', label: 'ĞĞµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾' },
      maybe: { icon: '?', label: 'Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾' }
    };

    const testData = [
      {
        id: 'base-settings',
        name: 'ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸',
        icon: 'ğŸ”§',
        tests: [
          { id: 'base-device-name', name: 'Ğ˜Ğ¼Ñ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸.' },
          { id: 'base-af-lens', name: 'Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¸Ğ²Ğ° AF LENS', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºÑƒ Ñ„Ğ¾ĞºÑƒÑĞ° Ğ¸ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.' },
          { id: 'base-mobile-p2p', name: 'Mobile P2P', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹ Ğ² Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ P2P.' }
        ]
      },
      {
        id: 'system',
        name: 'Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° (System)',
        icon: 'ğŸ–¥ï¸',
        tests: [
          { id: 'sys-date-time', name: 'Ğ”Ğ°Ñ‚Ğ° Ğ¸ Ğ²Ñ€ĞµĞ¼Ñ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Ğ´Ğ°Ñ‚Ñ‹/Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸.' },
          { id: 'sys-ntp', name: 'Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ NTP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ NTP-ÑĞµÑ€Ğ²ĞµÑ€Ğ¾Ğ¼.' },
          { id: 'sys-dst', name: 'Ğ›ĞµÑ‚Ğ½ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ DST.' },
          { id: 'sys-auto-reboot', name: 'ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ°Ğ²Ñ‚Ğ¾Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸.' },
          { id: 'sys-maintenance', name: 'ĞĞ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºÑƒ/ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸.' },
          { id: 'sys-config-impex', name: 'ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚/Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚)', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¸ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸.' },
          { id: 'sys-fw-update', name: 'ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ÑˆĞ¸Ğ²ĞºĞ¸', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ´ÑƒÑ€Ñƒ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº.' },
          { id: 'sys-ptz-rs485', name: 'PTZ/RS485', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ° RS485 Ğ¸ ÑĞ²ÑĞ·Ğ¸ Ñ PTZ.' },
          { id: 'sys-alarm-if', name: 'Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ñ Ğ½Ğ° Ñ‚Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ²Ñ…Ğ¾Ğ´Ñ‹/Ğ²Ñ‹Ñ…Ğ¾Ğ´Ñ‹.' },
          { id: 'sys-info', name: 'Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµĞ¼Ñ‹Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….' },
          { id: 'sys-logs', name: 'Ğ›Ğ¾Ğ³Ğ¸', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ¸ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ¾Ğ² ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹.' }
        ]
      },
      {
        id: 'network',
        name: 'Ğ¡ĞµÑ‚ÑŒ (Network)',
        icon: 'ğŸŒ',
        tests: [
          { id: 'net-tcpip', name: 'TCP/IP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ DHCP/ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ´Ñ€ĞµÑ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ ĞºĞ°Ğ¼ĞµÑ€Ñ‹.' },
          { id: 'net-dns', name: 'DNS', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ·Ğ¾Ğ»Ğ²Ğ¸Ğ½Ğ³Ğ° Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¸Ğ¼Ñ‘Ğ½.' },
          { id: 'net-ports', name: 'ĞŸĞ¾Ñ€Ñ‚Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ HTTP/HTTPS/RTSP Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ².' },
          { id: 'net-wifi', name: 'WiFi', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº WiFi-ÑĞµÑ‚Ğ¸ Ğ¸ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸.' },
          { id: 'net-pppoe', name: 'PPPoE', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° PPPoE-Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.' },
          { id: 'net-smtp', name: 'SMTP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ email-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹.' },
          { id: 'net-upnp', name: 'UPnP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· UPnP.' },
          { id: 'net-ddns', name: 'DDNS', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ DDNS-Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹.' },
          { id: 'net-rtsp', name: 'RTSP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ RTSP-Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°.' },
          { id: 'net-rtmp', name: 'RTMP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ²Ğ¸Ğ´ĞµĞ¾Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° RTMP.' },
          { id: 'net-sip', name: 'VoIP/SIP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ SIP-Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ñ‹.' },
          { id: 'net-snmp', name: 'SNMP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° SNMP-Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°.' },
          { id: 'net-8021x', name: 'IEEE 802.1x', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞµÑ‚ĞµĞ²Ğ¾Ğ¹ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸.' },
          { id: 'net-bonjour', name: 'Bonjour', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° Ğ² ÑĞµÑ‚Ğ¸.' },
          { id: 'net-gb28181', name: 'GB28181', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ² GB28181.' },
          { id: 'net-qos', name: 'QoS', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ°.' },
          { id: 'net-https', name: 'HTTPS', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ğ² Ğ¸ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°.' }
        ]
      },
      {
        id: 'video',
        name: 'Ğ’Ğ¸Ğ´ĞµĞ¾ (Video)',
        icon: 'ğŸ¥',
        tests: [
          { id: 'vid-stream-main', name: 'ĞšĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ±Ğ¸Ñ‚Ñ€ĞµĞ¹Ñ‚, FPS, ĞºĞ¾Ğ´ĞµĞº, GOP.' },
          { id: 'vid-stream-sub', name: 'ĞšĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: Ğ¿Ğ¾Ğ´Ğ¿Ğ¾Ñ‚Ğ¾Ğº', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ´Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°.' },
          { id: 'vid-stream-third', name: 'ĞšĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: Ñ‚Ñ€ĞµÑ‚Ğ¸Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ‚Ñ€ĞµÑ‚ÑŒĞµĞ³Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°.' },
          { id: 'vid-roi', name: 'ROI', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ° Ğ¸ Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ğµ Ğ½Ğ° ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾.' },
          { id: 'vid-osd', name: 'OSD', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ñ‚Ñ‹/Ñ‚ĞµĞºÑÑ‚Ğ° Ğ² OSD.' },
          { id: 'vid-privacy-mask', name: 'ĞœĞ°ÑĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ¼Ğ°ÑĞ¾Ğº.' },
          { id: 'vid-image', name: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ', details: 'Ğ¯Ñ€ĞºĞ¾ÑÑ‚ÑŒ, ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚, Ğ½Ğ°ÑÑ‹Ñ‰ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ, Ñ€ĞµĞ·ĞºĞ¾ÑÑ‚ÑŒ.' },
          { id: 'vid-exposure', name: 'Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ¾Ğ² ÑĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸.' },
          { id: 'vid-white-balance', name: 'Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ Ğ±ĞµĞ»Ğ¾Ğ³Ğ¾', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸.' },
          { id: 'vid-day-night', name: 'Ğ”ĞµĞ½ÑŒ/ĞĞ¾Ñ‡ÑŒ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ¾Ğ².' },
          { id: 'vid-ir', name: 'Ğ˜Ğš Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ˜Ğš-Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ¸.' },
          { id: 'vid-defog', name: 'Ğ£ÑÑ‚Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ‚ÑƒĞ¼Ğ°Ğ½Ğ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Defog.' },
          { id: 'vid-wdr', name: 'WDR', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Wide Dynamic Range.' },
          { id: 'vid-blc', name: 'BLC', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ğ¸ Ğ·Ğ°Ğ´Ğ½ĞµĞ¹ Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ¸.' },
          { id: 'vid-hlc', name: 'HLC', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ğ¸ Ğ·Ğ°ÑĞ²ĞµÑ‚ĞºĞ¸.' },
          { id: 'vid-mirror-flip', name: 'Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾ Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ñ€Ğ¾Ñ‚', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ€Ğ¸ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ.' },
          { id: 'vid-corridor', name: 'Ğ ĞµĞ¶Ğ¸Ğ¼ ĞºĞ¾Ñ€Ğ¸Ğ´Ğ¾Ñ€Ğ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ñ€Ğ¸Ğ´Ğ¾Ñ€Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°.' }
        ]
      },
      {
        id: 'audio',
        name: 'ĞÑƒĞ´Ğ¸Ğ¾ (Audio)',
        icon: 'ğŸ”Š',
        tests: [
          { id: 'aud-encoding', name: 'ĞšĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ°ÑƒĞ´Ğ¸Ğ¾ĞºĞ¾Ğ´ĞµĞº Ğ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ²ÑƒĞºĞ°.' },
          { id: 'aud-io', name: 'Ğ’Ñ…Ğ¾Ğ´Ñ‹/Ğ²Ñ‹Ñ…Ğ¾Ğ´Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ°ÑƒĞ´Ğ¸Ğ¾Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ¸ Ğ°ÑƒĞ´Ğ¸Ğ¾Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ°.' },
          { id: 'aud-denoise', name: 'Ğ¨ÑƒĞ¼Ğ¾Ğ¿Ğ¾Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑˆÑƒĞ¼Ğ°.' },
          { id: 'aud-detection', name: 'Ğ”ĞµÑ‚ĞµĞºÑ†Ğ¸Ñ Ğ·Ğ²ÑƒĞºĞ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³Ñƒ Ğ¿Ñ€Ğ¸ Ğ·Ğ²ÑƒĞºĞ¾Ğ²Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ÑÑ….' }
        ]
      },
      {
        id: 'storage',
        name: 'Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ (Storage)',
        icon: 'ğŸ’¾',
        tests: [
          { id: 'sto-schedule', name: 'Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ¹/ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸.' },
          { id: 'sto-sd', name: 'SD ĞºĞ°Ñ€Ñ‚Ğ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸ Ğ½Ğ° SD.' },
          { id: 'sto-nas', name: 'NAS', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº NAS Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸.' },
          { id: 'sto-ftp', name: 'FTP', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ñ‹Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ½Ğ° FTP.' },
          { id: 'sto-cloud', name: 'ĞĞ±Ğ»Ğ°Ñ‡Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¾Ğ±Ğ»Ğ°Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ°.' },
          { id: 'sto-overwrite', name: 'ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿Ğ¸ÑÑŒ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğ¸ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ°.' }
        ]
      },
      {
        id: 'events',
        name: 'Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ (Events)',
        icon: 'ğŸš¨',
        tests: [
          { id: 'evt-motion', name: 'Ğ”ĞµÑ‚ĞµĞºÑ†Ğ¸Ñ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ¾Ğ½Ñ‹, Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ğ¸.' },
          { id: 'evt-tamper', name: 'Ğ¡Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¶', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´ĞµÑ‚ĞµĞºÑ†Ğ¸Ğ¸ Ğ¿ĞµÑ€ĞµĞºÑ€Ñ‹Ñ‚Ğ¸Ñ ĞºĞ°Ğ¼ĞµÑ€Ñ‹.' },
          { id: 'evt-scene', name: 'Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ ÑÑ†ĞµĞ½Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ÑÑ†ĞµĞ½Ñ‹.' },
          { id: 'evt-alarm-io', name: 'Ğ¢Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ²Ñ…Ğ¾Ğ´Ñ‹/Ğ²Ñ‹Ñ…Ğ¾Ğ´Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ I/O Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³.' },
          { id: 'evt-anomaly', name: 'ĞĞ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¸', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³ Ğ¿Ñ€Ğ¸ ÑĞµÑ‚ĞµĞ²Ñ‹Ñ…/ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ñ… Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸ÑÑ….' },
          { id: 'evt-actions', name: 'Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ÑÑ…', details: 'ĞŸĞ¾Ñ‡Ñ‚Ğ°, Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ, PTZ-Ñ€ĞµĞ°ĞºÑ†Ğ¸Ñ, Ñ‚Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ñ…Ğ¾Ğ´.' }
        ]
      },
      {
        id: 'smart',
        name: 'Ğ’Ğ¸Ğ´ĞµĞ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° (Smart Analysis)',
        icon: 'ğŸ§ ',
        tests: [
          { id: 'sm-face', name: 'ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ»Ğ¸Ñ†', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´ĞµÑ‚ĞµĞºÑ†Ğ¸Ğ¸ Ğ»Ğ¸Ñ† Ğ¸ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ñ‚Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ğ°.' },
          { id: 'sm-human', name: 'Ğ”ĞµÑ‚ĞµĞºÑ‚Ğ¾Ñ€ Ğ»ÑĞ´ĞµĞ¹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞºĞ°.' },
          { id: 'sm-vehicle', name: 'Ğ”ĞµÑ‚ĞµĞºÑ‚Ğ¾Ñ€ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞµĞ¹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ğ½Ñ‹Ñ… ÑÑ€ĞµĞ´ÑÑ‚Ğ².' },
          { id: 'sm-line-cross', name: 'ĞŸĞµÑ€ĞµÑĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ»Ğ¸Ğ½Ğ¸Ğ¹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‚Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ñ‹ crossing line.' },
          { id: 'sm-intrusion', name: 'Ğ’Ñ‚Ğ¾Ñ€Ğ¶ĞµĞ½Ğ¸Ğµ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ intrusion detection.' },
          { id: 'sm-loitering', name: 'Loitering', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³Ñƒ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞµ Ğ² Ğ·Ğ¾Ğ½Ğµ.' },
          { id: 'sm-object', name: 'ĞÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ/Ğ¿Ñ€Ğ¾Ğ¿Ğ°Ğ²ÑˆĞ¸Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ abandoned/missing object.' },
          { id: 'sm-crowd', name: 'ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ñ‚Ğ¾Ğ»Ğ¿Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ´ÑÑ‡Ñ‘Ñ‚Ğ° Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸/Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ.' }
        ]
      },
      {
        id: 'security',
        name: 'Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ (Security)',
        icon: 'ğŸ”',
        tests: [
          { id: 'sec-users', name: 'Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸', details: 'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ/Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ/ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹.' },
          { id: 'sec-groups', name: 'Ğ“Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ³Ñ€Ğ°Ğ½ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ°.' },
          { id: 'sec-ip-filter', name: 'IP Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° whitelist/blacklist.' },
          { id: 'sec-policy', name: 'ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹', details: 'Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ ÑÑ€Ğ¾Ğº Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹.' },
          { id: 'sec-https', name: 'HTTPS', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° TLS-Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğ¸ ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ğ².' },
          { id: 'sec-telnet-ssh', name: 'Telnet/SSH', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹ ÑƒĞ´Ğ°Ğ»Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°.' }
        ]
      },
      {
        id: 'ptz',
        name: 'PTZ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ',
        icon: 'ğŸ›ï¸',
        tests: [
          { id: 'ptz-dir', name: 'ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚/Ğ½Ğ°ĞºĞ»Ğ¾Ğ½ ĞºĞ°Ğ¼ĞµÑ€Ñ‹.' },
          { id: 'ptz-zoom', name: 'Ğ—ÑƒĞ¼', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ zoom in/zoom out.' },
          { id: 'ptz-focus', name: 'Ğ¤Ğ¾ĞºÑƒÑ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾ Ğ¸ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ñ„Ğ¾ĞºÑƒÑ.' },
          { id: 'ptz-iris', name: 'Ğ”Ğ¸Ğ°Ñ„Ñ€Ğ°Ğ³Ğ¼Ğ°', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ iris.' },
          { id: 'ptz-presets', name: 'ĞŸÑ€ĞµĞ´ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ° Ğ¿Ñ€ĞµÑĞµÑ‚Ğ¾Ğ².' },
          { id: 'ptz-tours', name: 'Ğ¢ÑƒÑ€Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ĞµĞ¹ Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ°.' },
          { id: 'ptz-patterns', name: 'ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸ Ğ¸ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ².' },
          { id: 'ptz-autoscan', name: 'ĞĞ²Ñ‚Ğ¾ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.' },
          { id: 'ptz-home', name: 'Ğ”Ğ¾Ğ¼Ğ°ÑˆĞ½ÑÑ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ', details: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° Ğ² home Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ.' }
        ]
      }
    ];

    const state = {
      testStates: {},
      testNotes: {},
      testScreenshots: {},
      sectionCollapsed: {},
      projectName: '',
      cameraModel: '',
      firmwareVersion: '',
      testerName: '',
      testDate: '',
      savedAt: '',
      searchQuery: ''
    };

    const els = {
      projectName: document.getElementById('projectName'),
      cameraModel: document.getElementById('cameraModel'),
      firmwareVersion: document.getElementById('firmwareVersion'),
      testerName: document.getElementById('testerName'),
      testDate: document.getElementById('testDate'),
      searchInput: document.getElementById('searchInput'),
      testTree: document.getElementById('testTree'),
      overallProgress: document.getElementById('overallProgress'),
      statPassed: document.getElementById('statPassed'),
      statFailed: document.getElementById('statFailed'),
      statMaybe: document.getElementById('statMaybe'),
      statPending: document.getElementById('statPending'),
      exportBtn: document.getElementById('exportBtn'),
      saveBtn: document.getElementById('saveBtn'),
      loadBtn: document.getElementById('loadBtn'),
      resetBtn: document.getElementById('resetBtn'),
      reportModal: document.getElementById('reportModal'),
      imageModal: document.getElementById('imageModal'),
      reportText: document.getElementById('reportText'),
      copyReportBtn: document.getElementById('copyReportBtn'),
      downloadReportBtn: document.getElementById('downloadReportBtn'),
      fullImage: document.getElementById('fullImage'),
      toast: document.getElementById('toast')
    };

    function init() {
      const today = new Date().toISOString().slice(0, 10);
      state.testDate = today;
      els.testDate.value = today;
      loadFromLocalStorage(true);
      bindGlobalEvents();
      render();
    }

    function bindGlobalEvents() {
      [
        ['projectName', 'projectName'],
        ['cameraModel', 'cameraModel'],
        ['firmwareVersion', 'firmwareVersion'],
        ['testerName', 'testerName'],
        ['testDate', 'testDate']
      ].forEach(([elKey, stateKey]) => {
        els[elKey].addEventListener('input', (e) => {
          state[stateKey] = e.target.value;
          saveToLocalStorage();
        });
      });

      els.searchInput.addEventListener('input', (e) => {
        state.searchQuery = e.target.value.trim().toLowerCase();
        renderTree();
      });

      els.exportBtn.addEventListener('click', () => {
        els.reportText.value = generateReport();
        openModal(els.reportModal);
      });

      els.saveBtn.addEventListener('click', () => {
        saveToLocalStorage();
        showToast('ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½.');
      });

      els.loadBtn.addEventListener('click', () => {
        loadFromLocalStorage(false);
      });

      els.resetBtn.addEventListener('click', () => {
        const ok = window.confirm('Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹, Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ Ğ¸ ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ñ‹?');
        if (!ok) return;
        state.testStates = {};
        state.testNotes = {};
        state.testScreenshots = {};
        saveToLocalStorage();
        render();
        showToast('Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ñ‹.');
      });

      els.copyReportBtn.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(els.reportText.value);
          showToast('ĞÑ‚Ñ‡Ñ‘Ñ‚ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ² Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°.');
        } catch {
          showToast('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚.');
        }
      });

      els.downloadReportBtn.addEventListener('click', () => {
        const model = sanitizeFilePart(state.cameraModel || 'camera');
        const date = sanitizeFilePart(state.testDate || new Date().toISOString().slice(0, 10));
        const fileName = `test_report_${model}_${date}.txt`;
        const blob = new Blob([els.reportText.value], { type: 'text/plain;charset=utf-8' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = fileName;
        link.click();
        URL.revokeObjectURL(link.href);
      });

      document.querySelectorAll('[data-close]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('data-close');
          closeModal(document.getElementById(id));
        });
      });

      [els.reportModal, els.imageModal].forEach((modal) => {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) closeModal(modal);
        });
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          closeModal(els.reportModal);
          closeModal(els.imageModal);
        }
      });
    }

    function render() {
      fillHeaderInputs();
      renderTree();
      updateStats();
    }

    function fillHeaderInputs() {
      els.projectName.value = state.projectName || '';
      els.cameraModel.value = state.cameraModel || '';
      els.firmwareVersion.value = state.firmwareVersion || '';
      els.testerName.value = state.testerName || '';
      els.testDate.value = state.testDate || new Date().toISOString().slice(0, 10);
    }

    function renderTree() {
      const query = state.searchQuery;
      const html = [];

      for (const section of testData) {
        const tests = section.tests.filter((test) => matchesSearch(test, query));
        if (query && tests.length === 0) continue;

        const collapsed = !!state.sectionCollapsed[section.id] && !query;
        const done = tests.filter((t) => getStatus(t.id) !== 'pending').length;

        html.push(`
          <article class="section">
            <button class="section-header" data-section-toggle="${section.id}" title="Ğ¡Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ/Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Ñ€Ğ°Ğ·Ğ´ĞµĞ»">
              <span class="section-left">
                <span>${section.icon}</span>
                <span class="section-title">${escapeHtml(section.name)}</span>
              </span>
              <span class="section-progress">${done}/${tests.length}</span>
            </button>
            <div class="tests ${collapsed ? 'hidden' : ''}" id="section-${section.id}">
              ${tests.map((test) => renderTestItem(test)).join('')}
            </div>
          </article>
        `);
      }

      els.testTree.innerHTML = html.join('') || '<div class="panel">ĞĞ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ¿Ğ¾ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ.</div>';

      els.testTree.querySelectorAll('[data-section-toggle]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('data-section-toggle');
          state.sectionCollapsed[id] = !state.sectionCollapsed[id];
          renderTree();
          saveToLocalStorage();
        });
      });

      bindTreeEvents();
    }

    function renderTestItem(test) {
      const status = getStatus(test.id);
      const note = state.testNotes[test.id] || '';
      const screenshots = state.testScreenshots[test.id] || [];

      const statusBtn = (type, symbol, title) => `
        <button
          class="status-btn ${status === type ? `active ${type}` : ''}"
          data-status-btn="${test.id}:${type}"
          title="${title}"
          aria-label="${title}"
        >${symbol}</button>
      `;

      return `
        <div class="test-item" data-test-id="${test.id}">
          <div class="test-top">
            <div>
              <h3 class="test-name">${escapeHtml(test.name)}</h3>
              <p class="test-details">${escapeHtml(test.details)}</p>
            </div>
            <div class="status-buttons">
              ${statusBtn('passed', 'âœ“', 'ĞŸÑ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾')}
              ${statusBtn('failed', 'âœ—', 'ĞĞµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾')}
              ${statusBtn('maybe', '?', 'Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾')}
            </div>
          </div>

          <div class="test-bottom">
            <div class="notes">
              <textarea
                data-note-input="${test.id}"
                placeholder="Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸, Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹, Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹..."
              >${escapeHtml(note)}</textarea>
            </div>

            <div class="shots">
              <div class="uploader" data-drop-zone="${test.id}">
                <span class="upload-text">ĞŸĞµÑ€ĞµÑ‚Ğ°Ñ‰Ğ¸Ñ‚Ğµ JPG/PNG/GIF ÑÑĞ´Ğ° Ğ¸Ğ»Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚Ğµ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ</span>
                <button class="btn" data-upload-btn="${test.id}" type="button" title="Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ">ğŸ“¤ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ</button>
                <input class="hidden" data-upload-input="${test.id}" type="file" accept="image/png,image/jpeg,image/gif" multiple />
              </div>
              <div class="screens">${renderScreenshots(test.id, screenshots)}</div>
            </div>
          </div>
        </div>
      `;
    }

    function renderScreenshots(testId, screenshots) {
      if (!screenshots.length) {
        return '<div class="upload-text">Ğ¡ĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ñ‹ Ğ½Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹</div>';
      }

      return screenshots
        .map((src, idx) => `
          <div class="shot">
            <img src="${src}" alt="Ğ¡ĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚ ${idx + 1}" data-open-image="${testId}:${idx}" />
            <button class="shot-delete" type="button" data-delete-image="${testId}:${idx}" title="Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ">Ã—</button>
          </div>
        `)
        .join('');
    }

    function bindTreeEvents() {
      els.testTree.querySelectorAll('[data-status-btn]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const [testId, status] = btn.getAttribute('data-status-btn').split(':');
          setStatus(testId, status);
        });
      });

      els.testTree.querySelectorAll('[data-note-input]').forEach((textarea) => {
        autoResize(textarea);
        textarea.addEventListener('input', (e) => {
          const testId = e.target.getAttribute('data-note-input');
          state.testNotes[testId] = e.target.value;
          autoResize(e.target);
          saveToLocalStorage();
          updateStats();
        });
      });

      els.testTree.querySelectorAll('[data-upload-btn]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const testId = btn.getAttribute('data-upload-btn');
          const input = els.testTree.querySelector(`[data-upload-input="${testId}"]`);
          input?.click();
        });
      });

      els.testTree.querySelectorAll('[data-upload-input]').forEach((input) => {
        input.addEventListener('change', async (e) => {
          const testId = e.target.getAttribute('data-upload-input');
          await addScreenshots(testId, Array.from(e.target.files || []));
          e.target.value = '';
        });
      });

      els.testTree.querySelectorAll('[data-drop-zone]').forEach((zone) => {
        zone.addEventListener('dragover', (e) => {
          e.preventDefault();
          zone.classList.add('drag');
        });
        zone.addEventListener('dragleave', () => zone.classList.remove('drag'));
        zone.addEventListener('drop', async (e) => {
          e.preventDefault();
          zone.classList.remove('drag');
          const testId = zone.getAttribute('data-drop-zone');
          await addScreenshots(testId, Array.from(e.dataTransfer?.files || []));
        });
      });

      els.testTree.querySelectorAll('[data-open-image]').forEach((img) => {
        img.addEventListener('click', () => {
          const [testId, idxRaw] = img.getAttribute('data-open-image').split(':');
          const idx = Number(idxRaw);
          els.fullImage.src = state.testScreenshots[testId][idx];
          openModal(els.imageModal);
        });
      });

      els.testTree.querySelectorAll('[data-delete-image]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const [testId, idxRaw] = btn.getAttribute('data-delete-image').split(':');
          const idx = Number(idxRaw);
          state.testScreenshots[testId].splice(idx, 1);
          if (state.testScreenshots[testId].length === 0) delete state.testScreenshots[testId];
          saveToLocalStorage();
          renderTree();
          updateStats();
        });
      });
    }

    function setStatus(testId, nextStatus) {
      const current = getStatus(testId);
      state.testStates[testId] = current === nextStatus ? 'pending' : nextStatus;
      saveToLocalStorage();
      renderTree();
      updateStats();
    }

    function getStatus(testId) {
      return state.testStates[testId] || 'pending';
    }

    async function addScreenshots(testId, files) {
      if (!files.length) return;
      const valid = files.filter((f) => /^image\/(png|jpeg|gif)$/.test(f.type));
      if (!valid.length) {
        showToast('ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ JPG, PNG Ğ¸ GIF.');
        return;
      }

      try {
        const encoded = await Promise.all(valid.map(fileToBase64));
        const current = state.testScreenshots[testId] || [];
        state.testScreenshots[testId] = [...current, ...encoded];
        saveToLocalStorage();
        renderTree();
        updateStats();
      } catch {
        showToast('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ğ°.');
      }
    }

    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(file);
      });
    }

    function updateStats() {
      const allTests = testData.flatMap((section) => section.tests);
      let passed = 0;
      let failed = 0;
      let maybe = 0;

      for (const test of allTests) {
        const st = getStatus(test.id);
        if (st === 'passed') passed++;
        else if (st === 'failed') failed++;
        else if (st === 'maybe') maybe++;
      }

      const total = allTests.length;
      const pending = total - passed - failed - maybe;
      const done = total - pending;
      const progress = total ? Math.round((done / total) * 100) : 0;

      els.statPassed.textContent = String(passed);
      els.statFailed.textContent = String(failed);
      els.statMaybe.textContent = String(maybe);
      els.statPending.textContent = String(pending);
      els.overallProgress.textContent = `ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ: ${progress}% (${done}/${total})`;
    }

    function generateReport() {
      const allTests = testData.flatMap((section) => section.tests);
      const passed = allTests.filter((t) => getStatus(t.id) === 'passed').length;
      const failed = allTests.filter((t) => getStatus(t.id) === 'failed').length;
      const maybe = allTests.filter((t) => getStatus(t.id) === 'maybe').length;
      const pending = allTests.length - passed - failed - maybe;
      const progress = allTests.length ? Math.round(((passed + failed + maybe) / allTests.length) * 100) : 0;

      const lines = [
        'â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—',
        'â•‘        ĞĞ¢Ğ§ĞĞ¢ Ğ Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ˜ IP-ĞšĞĞœĞ•Ğ Ğ«                        â•‘',
        'â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•',
        '',
        'ğŸ“‹ ĞĞ‘Ğ©ĞĞ¯ Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ¯',
        'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”',
        `ĞŸÑ€Ğ¾ĞµĞºÑ‚:            ${state.projectName || '-'}`,
        `ĞœĞ¾Ğ´ĞµĞ»ÑŒ ĞºĞ°Ğ¼ĞµÑ€Ñ‹:     ${state.cameraModel || '-'}`,
        `Ğ’ĞµÑ€ÑĞ¸Ñ Ğ¿Ñ€Ğ¾ÑˆĞ¸Ğ²ĞºĞ¸:   ${state.firmwareVersion || '-'}`,
        `Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸Ğº:       ${state.testerName || '-'}`,
        `Ğ”Ğ°Ñ‚Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ: ${state.testDate || '-'}`,
        '',
        'ğŸ“Š Ğ¡Ğ¢ĞĞ¢Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ',
        'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”',
        `âœ“ ĞŸÑ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾:        ${passed}`,
        `âœ— ĞĞµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾:     ${failed}`,
        `? Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾:        ${maybe}`,
        `â—‹ ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚:         ${pending}`,
        'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”',
        `Ğ’Ğ¡Ğ•Ğ“Ğ Ğ¢Ğ•Ğ¡Ğ¢ĞĞ’:      ${allTests.length}`,
        `ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ:          ${progress}%`,
        '',
        'ğŸ“ Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢Ğ« Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ¯',
        'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”'
      ];

      for (const section of testData) {
        lines.push('');
        lines.push(`${section.icon} ${section.name}`);
        lines.push('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€');

        for (const test of section.tests) {
          const status = getStatus(test.id);
          const note = (state.testNotes[test.id] || '').trim() || '-';
          const shots = (state.testScreenshots[test.id] || []).length;
          const padded = STATUS[status].label.toUpperCase().padEnd(12, ' ');

          lines.push(`${STATUS[status].icon} [${padded}] ${test.name}`);
          lines.push(`   ${test.details}`);
          lines.push(`   ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ: ${note}`);
          lines.push(`   ğŸ“¸ Ğ¡ĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¾: ${shots}`);
        }
      }

      lines.push('');
      lines.push('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
      lines.push(`ĞÑ‚Ñ‡Ñ‘Ñ‚ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½: ${new Date().toLocaleString('ru-RU')}`);
      lines.push('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');

      return lines.join('\n');
    }

    function loadFromLocalStorage(silent) {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) {
          if (!silent) showToast('Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹.');
          return;
        }

        const parsed = JSON.parse(raw);
        state.testStates = parsed.testStates || {};
        state.testNotes = parsed.testNotes || {};
        state.testScreenshots = parsed.testScreenshots || {};
        state.projectName = parsed.projectName || '';
        state.cameraModel = parsed.cameraModel || '';
        state.firmwareVersion = parsed.firmwareVersion || '';
        state.testerName = parsed.testerName || '';
        state.testDate = parsed.testDate || state.testDate;
        state.savedAt = parsed.savedAt || '';
        state.sectionCollapsed = parsed.sectionCollapsed || {};

        if (!silent) {
          showToast(`ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½${state.savedAt ? ` (${new Date(state.savedAt).toLocaleString('ru-RU')})` : ''}.`);
          render();
        }
      } catch {
        showToast('ĞÑˆĞ¸Ğ±ĞºĞ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ localStorage.');
      }
    }

    function saveToLocalStorage() {
      try {
        const payload = {
          testStates: state.testStates,
          testNotes: state.testNotes,
          testScreenshots: state.testScreenshots,
          sectionCollapsed: state.sectionCollapsed,
          projectName: state.projectName,
          cameraModel: state.cameraModel,
          firmwareVersion: state.firmwareVersion,
          testerName: state.testerName,
          testDate: state.testDate,
          savedAt: new Date().toISOString()
        };
        state.savedAt = payload.savedAt;
        localStorage.setItem(STORAGE_KEY, JSON.stringify(payload));
      } catch {
        showToast('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ. Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾, Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ localStorage Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞµĞ½.');
      }
    }

    function matchesSearch(test, query) {
      if (!query) return true;
      const haystack = [
        test.name,
        test.details,
        state.testNotes[test.id] || ''
      ].join(' ').toLowerCase();
      return haystack.includes(query);
    }

    function escapeHtml(value) {
      return String(value)
        .replaceAll('&', '&amp;')
        .replaceAll('<', '&lt;')
        .replaceAll('>', '&gt;')
        .replaceAll('"', '&quot;')
        .replaceAll("'", '&#39;');
    }

    function sanitizeFilePart(value) {
      return String(value)
        .trim()
        .toLowerCase()
        .replace(/[^a-z0-9._-]+/g, '_')
        .replace(/^_+|_+$/g, '') || 'report';
    }

    function autoResize(textarea) {
      textarea.style.height = 'auto';
      textarea.style.height = `${Math.max(textarea.scrollHeight, 80)}px`;
    }

    function openModal(modal) {
      modal.classList.add('show');
      modal.setAttribute('aria-hidden', 'false');
    }

    function closeModal(modal) {
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden', 'true');
      if (modal === els.imageModal) els.fullImage.src = '';
    }

    let toastTimer;
    function showToast(message) {
      els.toast.textContent = message;
      els.toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => els.toast.classList.remove('show'), 2200);
    }

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
